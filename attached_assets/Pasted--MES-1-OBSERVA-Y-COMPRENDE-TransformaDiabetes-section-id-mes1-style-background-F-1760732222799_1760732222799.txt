<!-- üåø MES 1 ‚Äî OBSERVA Y COMPRENDE (TransformaDiabetes) -->
<section id="mes1" style="background:#FAF8F4;padding:2.5rem 1.25rem;border:1px solid #E6E3D9;border-radius:12px;margin:28px auto;max-width:850px;">
  <h2 style="color:#556B2F;text-align:center;margin:0 0 .5rem;">Mes 1 ‚Äî Observa y comprende tu cuerpo</h2>
  <p style="color:#6F6E66;text-align:center;margin:.25rem 0 1.25rem;">
    Establece tu l√≠nea base: registra 5 d√≠as de <strong>comidas, sue√±o y evacuaci√≥n</strong>. No busques perfecci√≥n ‚Äî busca patrones.
  </p>

  <div style="display:flex;flex-wrap:wrap;gap:12px;justify-content:center;margin-bottom:12px;">
    <span style="background:#fff;border:1px solid #E6E3D9;border-radius:999px;padding:.4rem .8rem;color:#3A3A3A;" id="mes1-progreso">
      Progreso diario: 0/5 d√≠as
    </span>
    <span style="background:#fff;border:1px solid #E6E3D9;border-radius:999px;padding:.4rem .8rem;color:#3A3A3A;" id="mes1-dias-suscripcion">
      D√≠a 0 desde tu suscripci√≥n
    </span>
  </div>

  <div style="display:grid;gap:.75rem;max-width:720px;margin:0 auto 1rem;">
    <div style="background:#FFFFFF;border:1px solid #E6E3D9;border-radius:10px;padding:1rem;">
      <strong style="color:#A15C38;">Objetivo del mes:</strong>
      <ul style="margin:.5rem 0 0 1rem;line-height:1.7;">
        <li>Observar tu energ√≠a y digesti√≥n sin juzgarte.</li>
        <li>Identificar alimentos y horarios que te estabilizan.</li>
        <li>Priorizar descanso: <em>‚Äútu cuerpo no puede sanar en estado de alerta‚Äù</em>.</li>
      </ul>
    </div>
    <div style="background:#FFFFFF;border:1px solid #E6E3D9;border-radius:10px;padding:1rem;">
      <strong style="color:#A15C38;">Sugerencia diaria:</strong>
      <div id="mes1-tip" style="margin-top:.5rem;color:#3A3A3A;">
        Incluye <strong>grasa + fibra + prote√≠na</strong> en cada comida para estabilizar el az√∫car.
      </div>
    </div>
  </div>

  <div style="display:flex;gap:12px;justify-content:center;margin-top:1rem;flex-wrap:wrap;">
    <button id="btnIrRegistroMes1" style="background:#A15C38;color:#fff;padding:.9rem 1.2rem;border:none;border-radius:8px;font-weight:600;cursor:pointer;">
      Ir a mi registro de 5 d√≠as
    </button>
    <button id="btnGenerarInforme" style="display:none;background:#556B2F;color:#fff;padding:.9rem 1.2rem;border:none;border-radius:8px;font-weight:600;cursor:pointer;">
      Generar mi informe inicial
    </button>
  </div>
</section>

<!-- Placeholder del informe (lo llenamos en el siguiente paso) -->
<section id="informe-inicial" style="display:none;opacity:0;transform:translateY(20px);transition:opacity .6s ease, transform .6s ease;max-width:850px;margin:24px auto;padding:1.25rem;background:#FFFFFF;border:1px solid #E6E3D9;border-radius:12px;">
  <h3 style="color:#556B2F;margin-top:0;">Informe inicial ‚Äî en preparaci√≥n</h3>
  <p style="color:#6F6E66;">
    Cuando completes tus 5 d√≠as, aqu√≠ ver√°s tu <strong>resumen funcional</strong> y tus <strong>primeros pasos</strong>.
  </p>
</section>

<script>
// üåø Guardar fecha de suscripci√≥n si no existe (marcador simple)
(function initSuscripcion(){
  if(!localStorage.getItem('tm_subscribed_at')){
    localStorage.setItem('tm_subscribed_at', String(Date.now()));
  }
})();

// üåø Actualizar etiqueta ‚ÄúD√≠a X desde tu suscripci√≥n‚Äù
(function pintarDiasSuscripcion(){
  const el = document.getElementById('mes1-dias-suscripcion');
  if(!el) return;
  const t0 = Number(localStorage.getItem('tm_subscribed_at') || Date.now());
  const dias = Math.max(0, Math.floor((Date.now() - t0) / (1000*60*60*24)));
  el.textContent = `D√≠a ${dias} desde tu suscripci√≥n`;
})();

// üåø Sugerencias rotatorias del Mes 1
(function tipsMes1(){
  const tips = [
    "Incluye grasa + fibra + prote√≠na en cada comida para estabilizar el az√∫car.",
    "Respira 5 veces lento antes de comer: baja el cortisol y mejora tu digesti√≥n.",
    "Mu√©vete 10 minutos despu√©s de comer: ayuda a tu glucosa a mantenerse estable.",
    "Hidr√°tate: tu h√≠gado y tu intestino trabajan mejor con agua suficiente.",
    "Duerme 7‚Äì8h: el descanso es tu medicina nocturna."
  ];
  const el = document.getElementById('mes1-tip');
  if(!el) return;
  let i = Math.floor(Math.random()*tips.length);
  el.textContent = tips[i];
})();

// üåø Bot√≥n: ir al registro de 5 d√≠as
document.getElementById('btnIrRegistroMes1')?.addEventListener('click', () => {
  const reg = document.getElementById('registro5dias');
  if(reg){ reg.scrollIntoView({behavior:'smooth'}); }
});

// üåø Progreso: cuenta cuantos ‚Äúd√≠as‚Äù de registro existen en pantalla (bloques .dia)
function actualizarProgresoMes1(){
  const pill = document.getElementById('mes1-progreso');
  if(!pill) return;
  const totalDias = Math.min(5, document.querySelectorAll('.dias .dia').length || 0);
  pill.textContent = `Progreso diario: ${totalDias}/5 d√≠as`;
  localStorage.setItem('tm_registro_dias', String(totalDias));
  // Mostrar bot√≥n de informe al llegar a 5
  const btnInforme = document.getElementById('btnGenerarInforme');
  if(btnInforme){
    btnInforme.style.display = (totalDias >= 5) ? 'inline-block' : 'none';
  }
}
setInterval(actualizarProgresoMes1, 1500); // chequeo ligero

// üåø Generar informe inicial (placeholder): mostrar secci√≥n y hacer scroll
document.getElementById('btnGenerarInforme')?.addEventListener('click', () => {
  const target = document.getElementById('informe-inicial');
  if(!target) return;
  target.style.display = 'block';
  setTimeout(() => {
    target.style.opacity = '1';
    target.style.transform = 'translateY(0)';
    target.scrollIntoView({behavior:'smooth'});
  }, 50);
});
</script>