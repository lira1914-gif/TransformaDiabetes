INSTRUCCIONES SENCILLAS para bloquear bots en tu servidor Replit

ğŸ§© PASO 1: Abre tu archivo del servidor

Abre el archivo donde inicias tu servidor (normalmente se llama server.js o app.js).

â¸»

ğŸ§© PASO 2: Copia y pega este cÃ³digo justo al inicio del archivo, despuÃ©s de importar express pero antes de tus rutas (app.get(...) o app.post(...)).// ğŸ›¡ï¸ ProtecciÃ³n simple contra bots y rutas sospechosas
import express from "express";
import fs from "fs";

const app = express();

// --- Lista de rutas sospechosas (WordPress, configuraciones, etc.) ---
const blockedPaths = [
  "/wp-admin",
  "/wordpress",
  "/wp-login",
  "/xmlrpc.php",
  "/.env"
];

// --- Lista opcional de IPs bloqueadas ---
const blockedIPs = [
  "192.168.0.1", // ejemplo â€” puedes agregar otras si ves repetidas
];

// --- Middleware que bloquea bots ---
app.use((req, res, next) => {
  const ip = req.headers["x-forwarded-for"] || req.socket.remoteAddress;

  // Si entra a una ruta sospechosa, se bloquea
  if (blockedPaths.some(path => req.url.startsWith(path))) {
    const log = `ğŸš« Ruta bloqueada: ${req.url} desde IP ${ip}\n`;
    fs.appendFileSync("blocked.log", log);
    console.log(log);
    return res.status(403).send("Acceso denegado ğŸš«");
  }

  // Si la IP estÃ¡ en lista negra, tambiÃ©n se bloquea
  if (blockedIPs.includes(ip)) {
    const log = `ğŸš« IP bloqueada: ${ip}\n`;
    fs.appendFileSync("blocked.log", log);
    console.log(log);
    return res.status(403).send("Acceso denegado ğŸš«");
  }

  next(); // Deja pasar todo lo demÃ¡s
});PASO 3: Guarda los cambios

Haz clic en Save ğŸ’¾ y reinicia tu servidor (botÃ³n â€œRunâ€ en Replit).

â¸»

ğŸ§© PASO 4: (Opcional) Ver los intentos bloqueados

Cada intento sospechoso quedarÃ¡ guardado en un archivo llamado blocked.log dentro de tu proyecto.
Puedes abrirlo para ver lÃ­neas como:ğŸš« Ruta bloqueada: /wp-admin/setup-config.php desde IP 45.67.88.90
ğŸš« IP bloqueada: 192.168.0.1âœ… Â¿QuÃ© hace este cÃ³digo?
	â€¢	Bloquea bots que intentan entrar a rutas como /wp-admin o /.env.
	â€¢	Guarda un registro en blocked.log.
	â€¢	Evita que esos bots sigan cargando tu sitio (ahorrando ancho de banda).
	â€¢	No afecta a tus visitantes reales.